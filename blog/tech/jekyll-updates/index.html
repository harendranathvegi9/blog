<!DOCTYPE html>
<html lang="en-us">

<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="theme-color" content="#202020">
  
  <!-- Google search console verification -->
  <meta name="google-site-verification" content="MWI4oyhfBl0XmM9yIcmO1Z7pk-vRmALsNYJ1FwKX3iQ" />
  
  <title>
    
    Jekyll updates &middot; Vinay Gopinath
    
  </title>
  <meta name="description" content="Plugins and improvements of my Jekyll blog">
  <meta name="og:description" content="Plugins and improvements of my Jekyll blog">
  <link rel="canonical" href="https://vinaygopinath.me/blog/tech/jekyll-updates/">
  
  <style type="text/css">
  
  h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:bold;line-height:1.25;color:#313131;text-rendering:optimizeLegibility}*{box-sizing:border-box}html{margin:0;padding:0;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5}body{margin:0;padding:0;color:#515151;background-color:#fff}@media (min-width: 38em){html{font-size:20px}}a{color:#268bd2;text-decoration:none}a strong{color:inherit}a:hover{text-decoration:underline}a:focus{text-decoration:underline}h1{font-size:2rem}h2{margin-top:1rem;font-size:1.5rem}h3{margin-top:1.5rem;font-size:1.25rem}h4{margin-top:1rem;font-size:1rem}h5{margin-top:1rem;font-size:1rem}h6{margin-top:1rem;font-size:1rem}p{margin-top:0;margin-bottom:1rem}strong{color:#313131}ul{margin-top:0;margin-bottom:1rem}ol{margin-top:0;margin-bottom:1rem}img{display:block;max-width:100%;margin:0 0 1rem;border-radius:5px}table{margin-bottom:1rem;width:100%;border:1px solid #e5e5e5;border-collapse:collapse}td{padding:.25rem .5rem;border:1px solid #e5e5e5}th{padding:.25rem .5rem;border:1px solid #e5e5e5}.lead{font-size:1.25rem;font-weight:300}.message{margin-bottom:1rem;padding:1rem;color:#717171;background-color:#f9f9f9}.container{max-width:38rem;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}tbody tr:nth-child(odd) td{background-color:#f9f9f9}tbody tr:nth-child(odd) th{background-color:#f9f9f9}h1,h2,h3,h4,h5,h6{font-family:Lato,Helvetica,Arial,sans-serif;font-weight:400;color:#313131;letter-spacing:-.025rem}.sidebar-nav-item.active,a.sidebar-nav-item:hover,a.sidebar-nav-item:focus{text-decoration:none;background-color:rgba(255,255,255,0.1);border-color:transparent}html{overflow-x:hidden;font-family:Roboto,Georgia,Times New Roman,serif}body{overflow-x:hidden}.wrap{position:relative;width:100%;backface-visibility:hidden;transition:transform .3s ease-in-out}.container{max-width:28rem}@media (min-width: 38em){.container{max-width:32rem}}@media (min-width: 56em){.container{max-width:38rem}}.masthead{padding-top:1rem;padding-bottom:1rem;margin-bottom:3rem;border-bottom:1px solid #eee}.masthead-title{margin-top:0;margin-bottom:0;color:#505050}.masthead-title a{color:#505050}.masthead-title small{font-size:75%;font-weight:400;color:silver;letter-spacing:0}@media (max-width: 48em){.masthead-title{text-align:center}.masthead-title small{display:none}}.sidebar{position:fixed;top:0;bottom:0;left:-14rem;width:14rem;visibility:hidden;overflow-y:auto;font-family:PT Sans,Helvetica,Arial,sans-serif;font-size:.875rem;color:rgba(255,255,255,0.6);background-color:#202020;transition:all .3s ease-in-out;backface-visibility:hidden}.sidebar a{font-weight:normal;color:#fff}@media (min-width: 30em){.sidebar{font-size:.75rem}.pagination{margin:3rem 0}.pagination-item{float:left;width:50%}.pagination-item:first-child{margin-bottom:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination-item:last-child{margin-left:-1px;border-top-right-radius:4px;border-bottom-right-radius:4px}}.sidebar-item{padding:1rem}.sidebar-item p:last-child{margin-bottom:0}.sidebar-nav{border-bottom:1px solid rgba(255,255,255,0.1)}.sidebar-nav-item{display:block;padding:.5rem 1rem;border-top:1px solid rgba(255,255,255,0.1)}a.pagination-item:hover{background-color:#f5f5f5}@media (min-width: 48em){.sidebar-item{padding:1.5rem}.sidebar-nav-item{padding-left:1.5rem;padding-right:1.5rem}}.sidebar-checkbox{position:absolute;opacity:0;user-select:none}.sidebar-toggle{position:absolute;top:.8rem;left:1rem;display:block;padding:.25rem .75rem;color:#505050;background-color:#fff;border-radius:.25rem;cursor:pointer;backface-visibility:hidden;transition:transform .3s ease-in-out}.sidebar-toggle:before{display:inline-block;width:1rem;height:.75rem;content:"";background-image:linear-gradient(to bottom, #505050, #505050 20%, #fff 20%, #fff 40%, #505050 40%, #505050 60%, #fff 60%, #fff 80%, #505050 80%, #505050 100%)}.sidebar-toggle:active{color:#fff;background-color:#505050}.sidebar-toggle:active:before{background-image:linear-gradient(to bottom, #fff, #fff 20%, #505050 20%, #505050 40%, #fff 40%, #fff 60%, #505050 60%, #505050 80%, #fff 80%, #fff 100%)}@media (min-width: 30.1em){.sidebar-toggle{position:fixed}}@media print{.sidebar-toggle{display:none}}.page{margin-bottom:4em}.post{margin-bottom:2em}.post:first-child{margin-top:2em}.page-title{text-transform:capitalize;color:#313131;margin-top:0}.post-title{color:#313131;margin-top:0}.post-title a{color:#313131}.post-date{display:block;margin-top:-.5rem;margin-bottom:1rem;color:#9a9a9a;font-size:0.65rem;text-transform:uppercase}.pagination{overflow:hidden;margin-left:-1rem;margin-right:-1rem;font-family:PT Sans,Helvetica,Arial,sans-serif;color:#ccc;text-align:center}.pagination-item{display:block;padding:1rem;border:1px solid #eee}.pagination-item:first-child{margin-bottom:-1px}.post{color:#212121}.post p,.post li{text-align:justify;font-size:16px;line-height:26px}.post li{margin-bottom:10px}.post img.img-centered{margin-left:auto;margin-right:auto}.post .scrollable-code figure pre{overflow-x:auto;white-space:pre}.home-container{-webkit-display:-webkit-box;-webkit-display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100vh;width:100vw}.home{text-align:center;width:50vw;height:30vh;transition:all 0.3s ease-in-out}.home .btn{font-family:inherit;font-size:12px;background:0;cursor:pointer;padding:25px 10px;display:inline-block;margin:15px 10px;text-transform:uppercase;letter-spacing:1px;font-weight:700;outline:0;position:relative;border:2px solid #0e83cd;color:#0e83cd;-webkit-transition:all .3s;-moz-transition:all .3s;transition:all .3s}.home .btn:hover,.home .btn:active{color:#fff;background:#0e83cd}.home .btn:hover::after,.home .btn:active::after{width:100%}.home .btn::after{content:'';position:absolute;z-index:-1;-webkit-transition:all .3s;-moz-transition:all .3s;transition:all .3s;height:100%;top:0;left:0;background:#fff}@media only screen and (max-device-width: 480px){.home{width:90vw;height:90vh}}@media only screen and (min-device-width: 481px) and (max-device-width: 990px){.home{width:75vw;height:75vh}.post img.img-mobile{max-width:80%}}@media only screen and (min-device-width: 991px){.home{width:60vw;height:60vh}.post img.img-mobile{max-width:45%}}

  </style>
  
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/public/icons/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/public/icons/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/public/icons/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/icons/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/public/icons/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/public/icons/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="/public/icons/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/public/icons/favicon-16x16.png" sizes="16x16" />
  <link rel="shortcut icon" href="/public/icons/favicon.ico">
  <meta name="application-name" content="Vinay Gopinath &middot; Adventures with technology and travel" />
  <meta name="msapplication-TileColor" content="#202020" />
  <meta name="msapplication-TileImage" content="/public/icons/mstile-144x144.png" />
  
  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


<body>
  <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Adventures with technology and travel</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item  active" href="/blog/tech/">Tech blog</a>
    <a class="sidebar-nav-item " href="/blog/travel/">Travel blog</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2016. All rights reserved.
    </p>
  </div>
</div>


<!-- Wrap is the content to shift when toggling the sidebar. We wrap the
  content to avoid any CSS collisions with our real content. -->
<div class="wrap">
    <div class="masthead">
        <div class="container">
            <h3 class="masthead-title">
          <a href="/" title="Home">Vinay Gopinath</a>
          <small>Adventures with technology and travel</small>
        </h3>
        </div>
    </div>

    <div class="container content">
        <div class="post">
  <h2 class="post-title">Jekyll updates</h2>
  <span class="post-date">14 Apr 2016</span>
  <p>I’ve been exploring the Jekyll ecosystem over the past couple of weeks, and consider me sold - I really like the simplicity of building a static site with pages, posts and collections. I know that neither Jekyll nor Ghost will dethrone WordPress as the layman’s choice of CMS, but given all of the work coming out of the node.js and Ruby camps, WordPress has got some stiff competition, and deservedly so.</p>

<h3 id="project-structure">Project Structure</h3>

<p>While setting up a new Jekyll 3.0-powered site based on the Lanyon theme wasn’t hard, choosing a project structure that works for me took some time. I wanted my posts to be grouped within folders based on the category name, so I use this structure</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  _posts
    - tech
      - 2016-04-14-tech-post-title.md
      - 2016-03-29-another-tech-post-title.md
    - travel
      - 2016-04-10-travel-post-title.md
      - 2016-03-09-another-travel-post-title.md
</code></pre>
</div>

<p>If you use Octopress, it’s easy to create a new post in a category with this command</p>

<div class="highlighter-rouge"><pre class="highlight"><code>   <span class="c">#Create a new post with the title "Post Title"</span>
   <span class="c">#in the "tech" category with the current date</span>
   octopress new post <span class="s2">"Post Title"</span> -D tech
</code></pre>
</div>

<p>To maintain consistency, my <code class="highlighter-rouge">_pages</code> folder is organized like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>   _pages
     - tech
       - index.html
     - travel
       - index.html
</code></pre>
</div>

<p>To get Jekyll to process these files, I had to add <code class="highlighter-rouge">_pages</code> to my <code class="highlighter-rouge">include</code> array in <code class="highlighter-rouge">_config.yml</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">include</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">_pages"</span><span class="pi">]</span>
</code></pre>
</div>

<h3 id="pagination">Pagination</h3>

<p>I found that I needed Octopress and octopress-paginate to set up paginated categories. I created a new file in <code class="highlighter-rouge">_layouts</code> called category-page.html with this content</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
---
layout: default
---

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"page-title"</span><span class="nt">&gt;</span>{{ page.paginate.category }}
      {% if paginator.page &gt; 1 %}
        - Page {{paginator.page}}
      {% endif %}
  <span class="nt">&lt;/h1&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"posts"</span><span class="nt">&gt;</span>
    {% assign index = true %}
    {% for post in paginator.posts %}
    {% assign content = post.content %}
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"post"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h2</span> <span class="na">class=</span><span class="s">"post-title"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ post.url }}"</span><span class="nt">&gt;</span>
            {{ post.title }}
          <span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"post-date"</span><span class="nt">&gt;</span>{{ post.date | date_to_string }}<span class="nt">&lt;/span&gt;</span>
        {{ post.excerpt }}
    <span class="nt">&lt;/div&gt;</span>
    {% unless post == paginator.posts.last %}
    	<span class="nt">&lt;hr&gt;</span>
    {% endunless %}
    {% endfor %}
  <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pagination"</span><span class="nt">&gt;</span>
      {% if paginator.next_page %}
      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"pagination-item older"</span> <span class="na">href=</span><span class="s">"{{paginator.next_page_path}}"</span><span class="nt">&gt;</span>Older<span class="nt">&lt;/a&gt;</span>
      {% else %}
      <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"pagination-item older"</span><span class="nt">&gt;</span>Older<span class="nt">&lt;/span&gt;</span>
      {% endif %}
      {% if paginator.previous_page %}
      {% if paginator.page == 2 %}
      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"pagination-item newer"</span> <span class="na">href=</span><span class="s">"/{{page.paginate.category}}"</span><span class="nt">&gt;</span>Newer<span class="nt">&lt;/a&gt;</span>
      {% else %}
      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"pagination-item newer"</span> <span class="na">href=</span><span class="s">"{{paginator.previous_page_path}}"</span><span class="nt">&gt;</span>Newer<span class="nt">&lt;/a&gt;</span>
      {% endif %}
      {% else %}
      <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"pagination-item newer"</span><span class="nt">&gt;</span>Newer<span class="nt">&lt;/span&gt;</span>
      {% endif %}
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

</code></pre>
</div>

<p>Setting up a paginated category page is simply a matter of using <code class="highlighter-rouge">layout: category-page</code>. For example, this is my <code class="highlighter-rouge">_pages/tech/index.html</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span>
<span class="s">layout</span><span class="pi">:</span> <span class="s">category-page</span>
<span class="s">title</span><span class="pi">:</span> <span class="s">Tech</span>
<span class="s">permalink</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/tech/"</span>
<span class="s">paginate</span><span class="pi">:</span>
  <span class="s">category</span><span class="pi">:</span> <span class="s2">"</span><span class="s">tech"</span>
<span class="nn">---</span>
</code></pre>
</div>

<h3 id="sass">SASS</h3>

<p>I’m a big fan of SASS, and I was happy to discover that Jekyll has <a href="https://jekyllrb.com/docs/assets/#sassscss">built-in support for SASS</a>. I’ve also taken to inlining critical CSS (<a href="https://www.youtube.com/watch?v=FEs2jgZBaQA">this long and insightful talk</a> by Addy Osmani helped me see the light) and I wanted to set it up for my site. A little bit of Google-fu led me to this <a href="https://gist.github.com/benedfit/46da533805566141c42f">gist</a> and this <a href="http://www.kevinsweet.com/inline-scss-jekyll-github-pages">post</a> that solved my problem without having to use Grunt or Gulp.</p>

<h3 id="deploying-to-github-pages">Deploying to Github Pages</h3>
<p>Lastly, since this site is hosted on Github Pages and Github approves a limited set of plugins (Octopress not being one of them), I had to resort to manually building and deploying my site. This can be done by setting up a <code class="highlighter-rouge">_deploy.yml</code> according to the specification <a href="https://github.com/octopress/octopress#git-deployment-configuration">here</a> and running</p>

<div class="highlighter-rouge"><pre class="highlight"><code>   octopress deploy
</code></pre>
</div>

<p>Warning: Be sure to have a clean working environment by stashing/committing your files before running this command. I accidentally published a bunch of temp posts I’d created to test pagination because they were present (untracked , not stashed or committed) in the <code class="highlighter-rouge">_posts</code> folder and they ended up in the resulting Jekyll build. That’s what you get for not reading the <a href="https://github.com/octopress/octopress#isolate">manual</a></p>

<p><a href="https://developers.google.com/speed/pagespeed/insights/?url=vinaygopinath.me">Pagespeed insights score</a> for the site:
<img src="http://i.imgur.com/iJhrRzN.png" alt="99/100 on both mobile and desktop" /></p>

</div>

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "item": {
        "@id": "https://vinaygopinath.me",
        "name": "Home"
      }
    },{
      "@type": "ListItem",
      "position": 2,
      "item": {
        "@id": "https://vinaygopinath.me/tech",
        "name": "Tech"
      }
    },{
      "@type": "ListItem",
      "position": 3,
      "item": {
        "@id": "https://vinaygopinath.me/blog/tech/jekyll-updates/",
        "name": "Jekyll updates"
      }
    }]
  }
</script>

<div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = 'https://vinaygopinath.me/blog/tech/jekyll-updates/';
    this.page.identifier = '/blog/tech/jekyll-updates/';
  };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = '//vinaygopinath.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>You don't seem to have Javascript enabled - To participate in the discussion, consider allowing Javascript on this site</noscript>

<!--<div class="related">
<h2>Related Posts</h2>
<ul class="related-posts">

<li>
<h3>
<a href="/blog/tech/social-media-rich-snippets-with-angularjs-and-ngmeta/">
Social media rich snippets with AngularJS and ngMeta
<small>26 Nov 2016</small>
</a>
</h3>
</li>

<li>
<h3>
<a href="/blog/tech/android-app-for-toruns-city-bike-system/">
Android app for Torun's city bike system
<small>21 Oct 2016</small>
</a>
</h3>
</li>

<li>
<h3>
<a href="/blog/travel/overheard-in-lodz/">
Overheard in Łódź
<small>25 Aug 2016</small>
</a>
</h3>
</li>

</ul>
</div>-->

    </div>
</div>

<label for="sidebar-checkbox" class="sidebar-toggle"></label>

<script>
    (function(document) {
      var toggle = document.querySelector('.sidebar-toggle');
      var sidebar = document.querySelector('#sidebar');
      var checkbox = document.querySelector('#sidebar-checkbox');

      document.addEventListener('click', function(e) {
        var target = e.target;

        if (!checkbox.checked ||
          sidebar.contains(target) ||
          (target === checkbox || target === toggle)) return;

        checkbox.checked = false;
      }, false);
    })(document);
</script>

  <link rel="stylesheet" href="/public/styles/site.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400%7CLato:400">

  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-78016218-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
</body>

</html>
